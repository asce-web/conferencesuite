
/*################################*\
    legacy  |  _hack.shame.less
\*################################*/


///////////////////////////////////////////////////////////////////////////////
// Use this stylesheet for all other hacks that donâ€™t have a home.
// Please comment vigorously. Do not generate KSS styleguide components for these.
///////////////////////////////////////////////////////////////////////////////


// TODO: remove the following upon xmeter@6.1.1
// @author    charvey@asce.org
// @submitted 2017-10-16
.o-Tablist {
  display: contents;
  width: 100%; // FIXME HTML Spec bug: read <https://thatemil.com/blog/2017/07/01/fixing-fieldsets/>
}

// TODO: import the c-Camo component from Neo, which camouflages links.
// This hack fixes the style of non-linked venue names in the Venue view.
// NOTE: there is no Venue class selector, so this selector is a little convoluted.
// TODO: create a Venue component with a Venue__Link subcomponent?
// @author    charvey@asce.org
// @submitted 2017-11-17
.c-Callout[itemtype="http://schema.org/Accommodation"] .c-Callout__Body > p > a:first-child:not([href]) {
  opacity: 1;
  &,
  &:hover,
  &:focus {
    color: inherit;
  }
}

// HACK: this aligns the content of the footer with the conference titles.
// TODO: remove this hack and use css grid instead, when we can fully support it.
// @author    charvey@asce.org
// @submitted 2017-08-30
#panel-prev .t-Content,
#panel-next .t-Content {
  margin-left: calc(~'var(--site-logo-size) + (2 * var(--site-logo-space)) + 1rem');
  //                                           ^ double the logo margin      ^extra 1rem for .t-Content margin-left
}

// Copied from Xmeter base styles.
// Hides the "jump to top" link at the bottom of the body.
// See Xmeter HACK to address bugfixes
// (relies on the link being the last of its type
// and a child of <body>).
// <https://github.com/chharvey/xmeter/>
// @author    charvey@asce.org
// @submitted 2017-01-01
body > a:last-of-type {
  position: fixed;
  bottom: var(--vru);
  right: 999999px;
  &:focus {
    right: 1rem;
  }
}


// Link to site map, for when JS is disabled and no mobile menu is available.
// TODO: provide component styles for this!
// @author    charvey@asce.org
// @submitted 2017-01-01
header noscript a {
  position: relative;
  top: 1rem;
  right: 0.5rem;
}
